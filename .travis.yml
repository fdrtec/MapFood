language: java

services:
  - mongodb

branches:
  only:
  - desenvolvimento

sudo: false
dist: trusty
addons:
  sonarcloud:
    organization: "lucasbsrs-github"
    token:
      secure: 5qhmJz1skfSnHTnp5ia6dQ # encrypted value of your token
script:
  # the following command line builds the project, runs the tests with coverage and then execute the SonarCloud analysis
  - mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar
install:
  - mvn -N io.takari:maven:wrapper
  - ./mvnw install -DskipTests=true -Dmaven.javadoc.skip=true -B -V